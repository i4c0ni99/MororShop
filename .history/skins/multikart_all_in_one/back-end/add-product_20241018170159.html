<!-- Includi CKEditor script -->
<script src="https://cdn.ckeditor.com/4.16.0/standard/ckeditor.js"></script>
<script>
    // Inizializza CKEditor per i campi specificati
    CKEDITOR.replace('description');
    CKEDITOR.replace('details');
    CKEDITOR.replace('information');

    // Funzione per validare i campi CKEditor
    function validateCKEditorFields() {
        let descriptionContent = CKEDITOR.instances['description'].getData().trim();
        let detailsContent = CKEDITOR.instances['details'].getData().trim();

        // Validazione del campo "description"
        if (descriptionContent.length < 5) {
            alert("La descrizione Ã¨ obbligatoria e deve avere almeno 5 caratteri.");
            return false;
        }

        // Validazione del campo "details"
        if (detailsContent.length < 5) {
            alert("Le specifiche sono obbligatorie e devono avere almeno 5 caratteri.");
            return false;
        }

        return true;
    }

    // Intercetta l'invio del modulo
    document.querySelector('.add-product-form').addEventListener('submit', function (e) {
        if (!validateCKEditorFields()) {
            e.preventDefault();  // Impedisci l'invio del modulo se la validazione fallisce
        }
    });
</script>
